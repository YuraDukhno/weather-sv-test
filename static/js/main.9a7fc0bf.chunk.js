(this["webpackJsonpwether-app"]=this["webpackJsonpwether-app"]||[]).push([[0],{49:function(e,t,a){},85:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=(a(45),a(13)),i=a.n(c),s=(a(49),a(16)),l=a(26),o=a(4),d=a.n(o),u=a(9),j=a(38),h=a(39),b=a(42),v=a(41),p=a(19),x=a.n(p),O=Object({NODE_ENV:"production",PUBLIC_URL:"/YuraDukhno/weather-sv-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_KEY,f="http://dataservice.accuweather.com";function m(e){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(f,"/forecasts/v1/daily/5day/").concat(t,"?apikey=").concat(O));case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.log("e",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(e){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("".concat(f,"/locations/v1/cities/autocomplete?apikey=").concat(O,"&q=").concat(t));case 3:return a=e.sent,n=a.data,e.abrupt("return",{data:n,query:t});case 8:throw e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var w=a(10),C=a(3),D=a(2);function S(e){var t=e.favorites,a=e.getWeather,n=Object(C.f)(),r=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.push("/"),e.next=3,a(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)("div",{children:[Object(D.jsx)("h3",{children:"Favorites"}),Object(D.jsx)("div",{className:"container-fluid",children:t.length?Object(D.jsx)("div",{children:t.map((function(e){return Object(D.jsx)("button",{onClick:function(){return r(e)},children:Object(D.jsx)("div",{className:"card mb-2",children:Object(D.jsxs)("div",{className:"card-body",children:[Object(D.jsx)("h5",{className:"card-title",children:e.label}),Object(D.jsxs)("p",{className:"card-text",children:[e.currWeather-32,"\xb0"]})]})})})}))}):Object(D.jsx)("div",{children:"No favorites added"})})]})}var k=a(20),F=a(43),T=a(40),_=function(e){var t=e.options,a=(e.onChange,e.onKeyDown),n=e.onSelect,r=(e.onBlur,e.value),c=e.placeholder,i=Object(F.a)(e,["options","onChange","onKeyDown","onSelect","onBlur","value","placeholder"]);return Object(D.jsx)(T.a,Object(s.a)({placeholder:c,onKeyDown:a,options:t,value:t.find((function(e){return e.value===r})),onChange:n},i))};function A(e){var t=e.daily,a=e.getWeather,c=e.favorites,i=e.addFavorite,s=e.removeFavorite,l=e.currCity,o=Object(n.useState)([]),j=Object(k.a)(o,2),h=j[0],b=j[1],v=Object(n.useState)(),p=Object(k.a)(v,2),x=(p[0],p[1]),O=Object(k.a)(t,1)[0],f=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.value,x(a),!a.trim()){e.next=7;break}return e.next=5,g(a);case 5:(n=e.sent)&&b(n.data.map((function(e){return{value:e.Key,label:e.LocalizedName}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsx)("div",{children:Object(D.jsxs)("main",{className:"container-fluid",children:[Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col",children:Object(D.jsx)(_,{placeholder:"Type location",onKeyDown:f,options:h,onSelect:function(e){var t=e.value,n=e.label;a({id:t,label:n})}})}),Object(D.jsx)("div",{className:"col",children:Object(D.jsx)("div",{className:"",children:c.some((function(e){return e.id===l.id}))?Object(D.jsx)("button",{type:"submit",className:"btn btn-danger",style:{margin:"2px"},onClick:function(){return s(l.id)},children:"Remove from favorites"}):Object(D.jsx)("button",{type:"submit",className:"btn btn-success",style:{margin:"2px"},onClick:function(){return i(l,O.Temperature.Maximum.Value)},children:"Add to favorites"})})})]}),Object(D.jsx)("div",{className:"cards",style:{display:"flex",flexDirection:"column",alignItems:"center",margin:"10px",padding:"10px"},children:O&&l&&Object(D.jsxs)(r.a.Fragment,{children:[Object(D.jsx)("h2",{children:l.label}),Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignContent:"center",boxShadow:"2px 2px 10px",margin:"10px",padding:"5px",borderRadius:"10px"},children:[Object(D.jsxs)("h3",{style:{padding:"2.5px"},children:["Max: ",O.Temperature.Maximum.Value-32,"\xb0"]}),Object(D.jsxs)("h3",{style:{padding:"2.5px"},children:["Min: ",O.Temperature.Minimum.Value-32,"\xb0"]})]}),Object(D.jsxs)("h4",{children:["Day: ",O.Day.IconPhrase]}),Object(D.jsxs)("h4",{children:["Night: ",O.Night.IconPhrase]})]})}),Object(D.jsx)("div",{children:Object(D.jsx)("ul",{style:{listStyle:"none",display:"flex",justifyContent:"space-around",margin:"0",padding:"0"},children:t.map((function(e){var t=e.Temperature,a=e.Date;return Object(D.jsxs)("li",{style:{textAlign:"center",padding:"5px"},children:[Object(D.jsx)("p",{children:a.slice(0,10)}),Object(D.jsxs)("span",{children:["Max: ",t.Maximum.Value-32,"\xb0"]}),Object(D.jsx)("br",{}),Object(D.jsxs)("span",{children:["Min: ",t.Minimum.Value-32,"\xb0"]})]})}))})})]})})}var E=function(){return Object(D.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top",children:Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)(w.c,{className:"navbar-brand",to:"/",children:"Weather App"}),Object(D.jsx)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:Object(D.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(D.jsx)("li",{className:"nav-item",children:Object(D.jsx)(w.c,{className:"nav-link",to:"/",children:"Home"})}),Object(D.jsx)("li",{className:"nav-item",children:Object(D.jsx)(w.c,{className:"nav-link",to:"/favorites",children:"Favorites"})})]})})]})})},M=(a(85),a(86),function(e){Object(b.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(j.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={daily:[],favorites:[],currCity:{}},e.getDaily=Object(u.a)(d.a.mark((function t(){var a,n,r,c,i=arguments;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:{id:"215854",label:"Tel Aviv"},n=a.id,r=a.label,t.next=3,m(n);case 3:c=t.sent,e.setState({daily:c.DailyForecasts,currCity:{id:n,label:r}});case 5:case"end":return t.stop()}}),t)}))),e.addFavorite=function(t,a){var n=[].concat(Object(l.a)(e.state.favorites),[Object(s.a)(Object(s.a)({},t),{},{currWeather:a})]);e.setState({favorites:n})},e.removeFavorite=function(t){var a=Object(l.a)(e.state.favorites).filter((function(e){return e.id!==t}));e.setState({favorites:a})},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.getDaily()}},{key:"render",value:function(){return Object(D.jsx)(w.b,{children:Object(D.jsxs)("div",{className:"App",children:[Object(D.jsx)(E,{}),Object(D.jsx)("div",{className:"auth-wrapper",children:Object(D.jsx)("div",{className:"auth-inner",children:Object(D.jsxs)(C.c,{children:[Object(D.jsx)(C.a,{exact:!0,path:"/",children:Object(D.jsx)(A,{daily:this.state.daily,getWeather:this.getDaily,favorites:this.state.favorites,addFavorite:this.addFavorite,removeFavorite:this.removeFavorite,currCity:this.state.currCity})}),Object(D.jsx)(C.a,{path:"/favorites",children:Object(D.jsx)(S,{favorites:this.state.favorites,getWeather:this.getDaily})})]})})})]})})}}]),a}(r.a.Component)),P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,88)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(D.jsx)(w.a,{children:Object(D.jsx)(M,{})}),document.getElementById("root")),P()}},[[87,1,2]]]);
//# sourceMappingURL=main.9a7fc0bf.chunk.js.map